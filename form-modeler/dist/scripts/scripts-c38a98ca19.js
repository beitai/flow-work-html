(function(){"use strict";angular.module("builder",["ui.router","validator","summernote","ui.sortable","ui.tree","cgNotify","localytics.directives","builder.constant","builder.config","builder.provider","builder.controller","builder.directive"]).run(["$rootScope","notify",function(e,o){e.progressNum=0,e.showProgress=function(o){e.progressNum++,o&&e.showSuccessMsg(o)},e.hideProgressBySucess=function(o){e.hideProgress(o,"notify-success")},e.hideProgressByError=function(o){e.hideProgress(o,"notify-error")},e.hideProgress=function(o,n){e.progressNum--,o&&(n&&null!=n?e.showMsg(o,2e3,n):e.showErrorMsg(o))},e.showSuccessMsg=function(o){e.showMsg(o,1500,"notify-success")},e.showErrorMsg=function(o){e.showMsg(o,3e3,"notify-error")},e.showMsg=function(e,n,t){o({message:e,duration:n,position:"center",classes:t})}}]).filter("to_trusted",["$sce",function(e){return function(o){return e.trustAsHtml(o)}}])}).call(this),function(){"use strict";angular.module("builder.config",[]).config(["$validatorProvider",function(e){return e.register("required",{invoke:"watch",validator:/.+/,error:"字段必填."}),e.register("number",{invoke:"watch",validator:/^[-+]?[0-9]*[\.]?[0-9]*$/,error:"字段必须是数字."}),e.register("email",{invoke:"blur",validator:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,error:"字段必须是邮件."}),e.register("url",{invoke:"blur",validator:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,error:"字段必须是网址."})}]).config(["$stateProvider","$urlRouterProvider",function(e,o){o.otherwise("/design"),e.state("design",{url:"/design?modelId&token",data:{pageTitle:["表单设计器"]},templateUrl:"views/fb-design.html"}).state("watch",{url:"/watch?modelId",data:{pageTitle:["表单明细查看"]},templateUrl:"views/fb-watch.html"}).state("work",{url:"/work?formDefinitionId&formDefinitionKey&formInstanceId",data:{pageTitle:["表单录入"]},templateUrl:"views/fb-work.html"})}])}.call(this),function(){"use strict";angular.module("builder.controller",[]).controller("fbWorkController",["$scope","$injector","$http","$stateParams","restUrl",function(e,o,n,t,i){var r=o.get("$builder");r.forms.id="root",r.forms.components=[],e.formData={};var l=null;null!=t.formDefinitionId?l=i.getDefinitionJsonById(t.formDefinitionId):null!=t.formDefinitionKey?l=i.getDefinitionJsonByKey(t.formDefinitionKey):e.showErrorMsg("参数:formDefinitionId,formDefinitionKey必须填入一个"),n({method:"GET",url:l}).success(function(o){r.forms.components=o,e.previewForms=angular.copy(r.forms)}).error(function(o){console.info(o),e.showErrorMsg("获取表单模型失败")}),e.convertToFormDataArray=function(){var o=[];return angular.forEach(e.formData,function(e,n){o.push({key:n,value:e})}),o},e.convertToFormDataObject=function(o){angular.forEach(o,function(o,n){e.formData[o.key]=o.value})},e.createFormData=function(){var o={businessKey:1,formDatas:e.convertToFormDataArray()};n({method:"POST",url:i.createInstance(),data:o}).success(function(e){}).error(function(o){console.info(o),e.showErrorMsg("获取表单设计内容失败")})},e.updateFormData=function(o){var t={businessKey:1,formDatas:e.convertToFormDataArray()};n({method:"PUT",url:i.updateInstance(o),data:t}).success(function(e){}).error(function(o){console.info(o),e.showErrorMsg("获取表单设计内容失败")})},null!=t.formInstanceId?(n({method:"GET",url:i.getInstance(t.formInstanceId)}).success(function(o){e.convertToFormDataObject(o.formDatas)}).error(function(o){console.info(o),e.showErrorMsg("获取表单实例失败")}),e.saveFormData=function(){e.updateFormData(t.formInstanceId)}):e.saveFormData=function(){e.createFormData()}}]).controller("fbWatchController",["$scope","$injector","$http","$stateParams","restUrl",function(e,o,n,t,i){var r=o.get("$builder");r.forms.id="root",r.forms.components=[],n({method:"GET",url:i.getModelJson(t.modelId)}).success(function(o){r.forms.components=o,e.previewForms=angular.copy(r.forms)}).error(function(o){e.showErrorMsg("获取表单模型失败")})}]).controller("fbDesignController",["$scope","$injector","$http","$stateParams","restUrl","$q","$timeout",function(e,o,n,t,i,r,l){var a=o.get("$builder");a.forms.id="root",a.forms.selectedComponent={};var p=n({method:"GET",url:i.getStencilSet()}).success(function(o){e.mainTitle=o.title,e.mainDescription=o.description,angular.forEach(o.propertyPackages,function(e){a.registerPropertyPackage(e)}),angular.forEach(o.components,function(e){a.registerComponent(e)}),angular.forEach(o.groups,function(e){a.registerGroup(e)})}),s=n({method:"GET",headers:{Token:t.token},url:i.getModelJson(t.modelId)}).error(function(o){e.showErrorMsg(o.msg)}),c=function(e){var o=[];return angular.forEach(e,function(e){var n=a.components[e.id];if(!angular.isUndefined(n)){var t=angular.copy(n);if(t.arrayValue=e.arrayValue,t.properties=e.properties,t.value=e.value,angular.isDefined(n.properties.field)){var i=e.properties.field;if(angular.isUndefined(a.forms.fields[i]))return;a.setField(t,a.forms.fields[i])}e.forms&&e.forms.length>0&&angular.forEach(e.forms,function(e,o){t.forms[o]={},t.forms[o].components=c(e.components)}),o.push(t)}}),o};r.all([s,p]).then(function(e){a.forms.fields={},angular.forEach(e[0].data.fields,function(e){a.forms.fields[e.key]=e}),l(function(){a.forms.components=c(angular.fromJson(e[0].data.json)),console.info(a.forms.components)},10)}),e.leftCollapsed=!1,e.rightCollapsed=!1,e.navActive="editForm",e.editForms=a.forms,e.editForm=function(){e.navActive="editForm"},e.previewForm=function(){e.navActive="previewForm",e.previewForms=angular.copy(a.forms),e.formData={}};var d=function(e){var o=[];return angular.forEach(e,function(e){var n={};n.id=e.id,n.arrayValue=e.arrayValue,n.properties=e.properties,n.value=e.value,e.forms.length>0&&(n.forms=[],angular.forEach(e.forms,function(e,o){n.forms[o]={},n.forms[o].components=d(e.components)})),o.push(n)}),o};e.saveForm=function(){e.showProgress(),console.info(a.forms.components),n({method:"PUT",headers:{Token:t.token},url:i.saveModelJson(t.modelId),data:d(a.forms.components)}).success(function(o){e.hideProgressBySucess("保存表单成功")}).error(function(o){e.hideProgressByError(o.msg)})},e.clearForm=function(){a.forms.components=[],a.forms.selectedComponent={},e.editForm()},e.fixSize=function(){jQuery(".sidebar-nav").css("height",$(window).height()-$("#navbar").height()-1),jQuery(".nav-body").css("height",$(window).height()-$("#navbar").height()-$(".nav-title").height()-21),jQuery(".fb-builder").css("height",$(window).height()-$("#navbar").height()-20)},angular.element(window).bind("resize",function(){e.fixSize()})}]).controller("fbBuilderController",["$scope","$injector","$timeout",function(e,o,n){var t=o.get("$builder");e.builderForms=t.forms,e.selectComponent=function(o,t){t.stopPropagation(),o!=e.builderForms.selectedComponent&&(e.builderForms.selectedComponent={},n(function(){e.builderForms.selectedComponent=o}))},e.removeComponent=function(o,n){var t=o.components.splice(n,1);e.builderForms.selectedComponent===t[0]&&(e.builderForms.selectedComponent={})},e.copyComponent=function(e,o,n){n.stopPropagation();var t=e.components.indexOf(o);t>-1&&e.components.splice(t+1,0,angular.copy(o))},e.sortableOptions={connectWith:".column",handle:".drag"}}]).controller("fbComponentsController",["$scope","$injector",function(e,o){var n=o.get("$builder");e.groups=n.groups,e.draggableOptions={connectWith:".column",helper:"clone",handle:".drag",start:function(e,o){o.helper.width(400),o.helper.addClass("fb-builder")},stop:function(o,t){if(jQuery(o.target).hasClass("nav-content")&&t.item.sortable.droptarget&&o.target!=t.item.sortable.droptarget[0]){t.item.sortable.sourceModel.splice(t.item.sortable.index,0,t.item.sortable.model);var i=angular.copy(t.item.sortable.model);if(angular.isDefined(i.properties.field))if(angular.equals({},n.forms.fields))e.$parent.showErrorMsg("没有配置字段，拉取的组件保存之后将会丢失");else{var r=n.forms.fields[Object.keys(n.forms.fields)[0]];n.setField(i,r)}t.item.sortable.droptargetModel.splice(t.item.sortable.dropindex,1,i)}}}}]).controller("fbComponentController",["$scope",function(e){e.changeColNum=function(){var o=e.component.value.split(" ",12),n=0;angular.forEach(o,function(e){n+=parseInt(e)}),12==n?(e.component.showButton=!0,e.component.arrayValue=o,e.component.forms=[],angular.forEach(e.component.arrayValue,function(o,n){e.component.forms[n]={},e.component.forms[n].components=[]})):(e.component.showButton=!1,console.info("input value sum not 12"))},"column"==e.component.type&&e.component.value&&e.changeColNum()}]).controller("fbPropertiesController",["$scope","$injector",function(e,o){var n=o.get("$builder");e.builderForms=n.forms,e.$watch("builderForms.selectedComponent",function(){e.component=e.builderForms.selectedComponent}),e.summernoteConfig={height:250,toolbar:[["style",["style","fontsize","bold","italic","underline","clear"]],["para",["color","paragraph","undo","redo","codeview","fullscreen"]]]}}]).controller("fbFieldController",["$scope","$injector",function(e,o){e.changeField=function(){var n=e.builderForms.fields[e.component.properties.field];o.get("$builder").setField(e.component,n)}}]).controller("fbOptionsController",["$scope",function(e){e.component.properties.treeOptions?e.options=e.component.properties.treeOptions:e.options=e.component.properties.options,e.sortableOptions={handle:".glyphicon-move"},e.showValue=!1,e.changeShow=function(){e.showValue=!e.showValue},e.selectedOption={},e.selectOption=function(o){e.selectedOption=angular.copy(o)},e.changeOption=function(o){e.selectedOption.text!==e.selectedOption.value&&""!==e.selectedOption.value||(o.value=o.text),e.selectOption(o)},e.addOption=function(o){e.options.splice(o+1,0,{value:"",text:""})},e.removeOption=function(o){e.options.splice(o,1)},e.addTreeOption=function(e){var o=e.$modelValue;o.children.push({text:"",value:"",children:[]})},e.removeTreeOption=function(e){e.remove()},e.toggle=function(e){e.toggle()},e.collapseAll=function(){e.$broadcast("angular-ui-tree:collapse-all")},e.expandAll=function(){e.$broadcast("angular-ui-tree:expand-all")},e.selectDefault=function(o,n){var t=o.target;t.checked?e.component.arrayValue.push(n):e.component.arrayValue.splice(e.component.arrayValue.indexOf(n),1)}}])}.call(this),function(){"use strict";var e=function(e,o,n,t){return t.$watch(n,function(n){if(n){var i=e(n)(t);return $(o).html(i)}})};angular.module("builder.directive",[]).directive("fbForm",[function(){return{restrict:"A",require:"ngModel",scope:{data:"=ngModel",forms:"=fbForm"},template:'<div ng-repeat="component in forms.components"><div fb-form-object="component"></div></div>'}}]).directive("fbFormObject",["$compile",function(o){return{restrict:"A",scope:{component:"=fbFormObject"},link:function(n,t,i,r){n.data=n.$parent.data,n.showForm=!0;var l=["checkbox","select","multiple-select"],a=n.component.properties.overrideId;return a&&(l.indexOf(n.component.id)<0?(n.$watch("data['"+a+"']",function(e,o){angular.isUndefined(e)||n.component.value!=e&&(n.component.value=e)}),n.$watch("component.value",function(e,o){n.data[a]!=e&&(n.data[a]=e)})):(n.changeDataFlag=!1,n.changeValueFlag=!1,n.$watch("data['"+a+"']",function(e,o){if(!angular.isUndefined(e)){if(n.changeDataFlag)return void(n.changeDataFlag=!1);n.changeValueFlag=!0;var t=e.split(",");"checkbox"===n.component.id?angular.forEach(n.component.properties.options,function(e,o){n.component.arrayValue[o]=!1,angular.forEach(t,function(t){t==e.value&&(n.component.arrayValue[o]=!0)})}):"select"===n.component.id?angular.forEach(t,function(e,o){console.info(n.component.arrayValue[o]),angular.forEach(n.component.arrayValue[o].children,function(t){e==t.value&&(n.component.arrayValue[o+1]=t)})}):"multiple-select"===n.component.id&&(n.component.arrayValue=[],angular.forEach(t,function(e,o){angular.forEach(n.component.properties.options,function(t){e==t.value&&(n.component.arrayValue[o]=t)})}))}}),n.$watch("component.arrayValue",function(e,o){if(n.changeValueFlag)return void(n.changeValueFlag=!1);n.changeDataFlag=!0;var t=[];"checkbox"===n.component.id?angular.forEach(e,function(e,o){e&&t.push(n.component.properties.options[o].value)}):"select"===n.component.id?angular.forEach(e,function(e,o){o>0&&o<=n.component.properties.level&&e&&t.push(e.value)}):"multiple-select"===n.component.id&&angular.forEach(e,function(e){t.push(e.value)}),n.data[a]=t.join(",")},!0))),e(o,t,"component.template",n)}}}]).directive("fbBuilder",[function(){return{restrict:"A",scope:{forms:"=fbBuilder"},templateUrl:"views/directive/fb-builder.html",controller:"fbBuilderController",link:function(e,o){"root"===e.forms.id&&(o.children(":first").addClass("fb-builder"),angular.element(window).resize())}}}]).directive("fbBuilderObject",["$compile",function(o){return{restrict:"A",scope:{component:"=fbBuilderObject"},link:function(n,t){return e(o,t,"component.template",n)}}}]).directive("fbComponents",function(){return{restrict:"A",scope:{fbComponents:"="},templateUrl:"views/directive/fb-components.html",controller:"fbComponentsController"}}).directive("fbComponent",["$compile",function(o){return{restrict:"A",scope:{component:"=fbComponent"},controller:"fbComponentController",link:function(n,t){return e(o,t,"component.template",n)}}}]).directive("fbProperties",function(){return{restrict:"A",scope:{fbProperties:"="},templateUrl:"views/directive/fb-properties.html",controller:"fbPropertiesController"}}).directive("fbProperty",["$compile",function(o){return{restrict:"A",scope:!0,link:function(n,t,i){return n.property=n.$eval(i.fbProperty),e(o,t,"property.template",n)}}}]).directive("fbDynamicModel",["$compile",function(e){return{restrict:"A",priority:1,terminal:!0,link:function(o,n,t){var i=o.$eval(t.fbDynamicModel);t.ngModel!==i&&i&&(t.fbDynamicModelPre&&(i=i.indexOf(".")>=0?t.fbDynamicModelPre+"."+i:t.fbDynamicModelPre+"['"+i+"']"),t.fbDynamicModelSuf&&(i=i.indexOf(".")>=0?i+"."+t.fbDynamicModelSuf:i+"['"+t.fbDynamicModelSuf+"']"),n.attr("ng-model",i),""===i&&n.removeAttr("ng-model"),n.removeAttr("fb-dynamic-model"),n.unbind(),e(n)(o))}}}]).directive("fbPopover",[function(){return{restrict:"A",scope:{config:"=fbPopover"},link:function(e,o){var n=e.config||{};n.trigger=n.trigger||"hover",n.html=n.html||!0,n.title=n.title||"",n.content=n.content||"",n.placement=n.placement||"auto",o.popover(n)}}}]).directive("fbDatetime",function(){return{restrict:"A",link:function(e,o,n){var t=e.$eval(n.fbDatetime)||{};t.autoclose=t.autoclose||!0,t.todayBtn=t.todayBtn||!0,t.showSeconds=t.showSeconds||!0,t.language=t.language||"zh-CN",o.datetimepicker(t)}}}).directive("fbHtml",["$compile",function(e){return{restrict:"A",link:function(o,n,t){t.summernote||(o.fbHtmlConfig=o.$eval(t.fbHtml)||{},o.fbHtmlConfig.lang=o.fbHtmlConfig.lang||"zh-CN",o.$watch(t.ngDisabled,function(e){e?n.summernote("disable"):n.summernote("enable")}),n.removeAttr("fb-html"),n.attr("summernote",""),n.attr("config","fbHtmlConfig"),e(n)(o))}}}]).directive("fbFileInput",function(){return{restrict:"A",link:function(e,o,n){o.fileinput({language:"zh",uploadUrl:"#"}),e.$watch(n.ngDisabled,function(e){e?o.fileinput("disable"):o.fileinput("enable")}),e.$watch(n.fbFileInput,function(e){angular.isDefined(e)&&(e=angular.copy(e),(e.allowedFileTypes.indexOf("all")>=0||0===e.allowedFileTypes.length)&&(e.allowedFileTypes=null),(e.allowedFileExtensions.indexOf("all")>=0||0===e.allowedFileExtensions.length)&&(e.allowedFileExtensions=null),o.fileinput("refresh",e))},!0)}}}).directive("fbLoad",function(){return{restrict:"A",templateUrl:"views/directive/fb-load.html",link:function(e,o){$(o).fadeIn(300)}}})}.call(this),function(){"use strict";var e=[].indexOf||function(e){for(var o=0,n=this.length;o<n;o++)if(o in this&&this[o]==e)return o;return-1};angular.module("builder.provider",[]).provider("$builder",function(){var o,n,t;n=null,o=null,t=null,this.forms={},this.groups=[],this.components={},this.propertyPackages={},this.convertProperty=function(e,o){var n,t,i,r,l;return n={key:null!=(t=o.key)?t:"",title:null!=(i=o.title)?i:"",value:null!=(r=o.value)?r:"",description:null!=(l=o.description)?l:"",template:o.template,templateUrl:o.templateUrl},e?n.name=e+"."+n.key:n.name=n.key,n.template||n.templateUrl||console.error("The template is empty."),n},this.convertPropertyPackage=function(e){var o,n,t,i;return o={id:null!=(n=e.id)?n:"",object:null!=(t=e.object)?t:null,properties:null!=(i=e.properties)?i:[]}},this.registerPropertyPackage=function(e){return function(o){o=o||{};var t=o.id;if(null==e.propertyPackages[t]){var i=e.convertPropertyPackage(o);angular.forEach(i.properties,function(o,t){var r=e.convertProperty(i.object,o);null!=n&&e.loadTemplate(r),i.properties[t]=r}),e.propertyPackages[t]=i}else console.error("The propertyPackage "+t+" was registered.")}}(this),this.loadPropertyPackages=function(o){return function(n){var t=[];angular.forEach(n.propertyPackages,function(i,r){if(null!=o.propertyPackages[i]){var l=o.propertyPackages[i];if(e.call(t,l)<0){t.push(l);var a=null;l.object?(n.properties[l.object]={},a=n.properties[l.object]):a=n.properties,angular.forEach(l.properties,function(e,o){a[e.key]=e.value})}else console.error("The propertyPackage "+i+" was registered.")}else console.error("The propertyPackage "+i+" is not found.")}),n.propertyPackages=t}}(this),this.convertComponent=function(e){var o,n,t,i,r,l,a,p,s;return o={id:null!=(n=e.id)?n:"",value:null!=(t=e.value)?t:null,arrayValue:null!=(i=e.arrayValue)?i:[],type:null!=(r=e.type)?r:"",forms:null!=(l=e.forms)?l:[],title:null!=(a=e.title)?a:"",propertyPackages:null!=(p=e.propertyPackages)?p:[],properties:null!=(s=e.properties)?s:{},template:e.template,templateUrl:e.templateUrl},o.template||o.templateUrl||console.error("The template is empty."),o},this.registerComponent=function(e){return function(o){o=o||{};var t=o.id;if(null==e.components[t]){var i=e.convertComponent(o);e.components[t]=i,null!=e.propertyPackages&&e.loadPropertyPackages(i),null!=n&&e.loadTemplate(i)}else console.error("The component "+t+" was registered.")}}(this),this.loadComponents=function(o){return function(n){var t=[];angular.forEach(n.components,function(n){null!=o.components[n]?e.call(t,o.components[n])<0?t.push(o.components[n]):console.error("The component "+n+" was registered."):console.error("The component "+n+" is not found.")}),n.components=t}}(this),this.convertGroup=function(e){var o,n,t,i,r;return o={id:null!=(n=e.id)?n:"",title:null!=(t=e.title)?t:"",description:null!=(i=e.description)?i:"",components:null!=(r=e.components)?r:[]}},this.registerGroup=function(o){return function(n){n=n||{};var t=o.convertGroup(n);o.loadComponents(t),e.call(o.groups,t)<0?o.groups.push(t):console.error("The group "+n.id+" was registered.")}}(this),this.setupProviders=function(e){return n=e,o=n.get("$http"),t=n.get("$templateCache")},this.loadTemplate=function(e){null==e.template&&o.get(e.templateUrl,{cache:t}).success(function(o){return e.template=o})},this.setField=function(e,o){e.properties.field=o.key,e.properties.overrideId=o.key,e.properties.label=o.name,e.properties.description=o.remark},this.$get=["$injector",function(e){return function(o){return e.setupProviders(o),{forms:e.forms,groups:e.groups,components:e.components,propertyPackages:e.propertyPackages,registerGroup:e.registerGroup,registerComponent:e.registerComponent,registerPropertyPackage:e.registerPropertyPackage,setField:e.setField}}}(this)]})}.call(this),function(){"use strict";angular.module("builder.constant",[]).constant("restUrl",{getModelJson:function(e){return"http://61.160.207.86:8083/form-layouts/"+e+"/json"},saveModelJson:function(e){return"http://61.160.207.86:8083/form-layouts/"+e+"/json"},getFormField:function(){return"http://61.160.207.86:8083/form-fields"},getDefinitionJsonById:function(e){return"http://61.160.207.86:8083/form-definitions/"+e+"/json"},getDefinitionJsonByKey:function(e){return"http://61.160.207.86:8083/form-definitions/"+e+"/latest/json"},createInstance:function(){return"http://61.160.207.86:8083/form-instances"},updateInstance:function(e){return"http://61.160.207.86:8083/form-instances/"+e},getInstance:function(e){return"http://61.160.207.86:8083/form-instances/"+e},getStencilSet:function(){return"./stencilset.json?version="+Date.now()}})}.call(this),angular.module("builder").run(["$templateCache",function(e){e.put("views/fb-design.html",'<div class="design" ng-class="{\'edit\': navActive==\'editForm\', \'preview\': navActive==\'previewForm\',\'sidebar-nav-left-collapsed\': leftCollapsed,\'sidebar-nav-right-collapsed\': rightCollapsed,}" ng-controller="fbDesignController"><nav class="navbar navbar-inverse navbar-fixed-top" id="navbar"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu-layoutit" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="">{{mainTitle}}<small style="margin-left: 20px;">{{mainDescription}}</small></a></div><div class="collapse navbar-collapse" id="menu-layoutit"><ul class="nav navbar-nav"><li ng-class="{\'active\': navActive==\'editForm\'}"><a href="" ng-click="editForm()"><i class="glyphicon glyphicon-edit"></i>编辑</a></li><li ng-class="{\'active\': navActive==\'previewForm\'}"><a href="" ng-click="previewForm()"><i class="glyphicon glyphicon-eye-open"></i>预览</a></li><li ng-class="{\'active\': navActive==\'saveForm\'}" data-target="#saveModal" data-toggle="modal"><a href=""><i class="glyphicon glyphicon-share"></i>保存</a></li><li ng-class="{\'active\': navActive==\'clearForm\'}"><a href="" ng-click="clearForm()"><i class="glyphicon glyphicon-trash"></i>清空</a></li></ul></div></div></nav><div class="sidebar-nav sidebar-nav-left"><ul class="nav-title nav-list accordion-group"><li class="nav-header-top"><i class="glyphicon clickable" ng-click="leftCollapsed=!leftCollapsed" ng-class="{\'glyphicon-chevron-right\': leftCollapsed,\'pull-right glyphicon-chevron-left\': !leftCollapsed}"></i> 表单组件选取</li></ul><div class="nav-body" fb-components="" ng-show="!leftCollapsed"></div></div><div class="sidebar-nav sidebar-nav-right"><ul class="nav-title nav-list accordion-group"><li class="nav-header-top"><i class="glyphicon clickable" ng-click="rightCollapsed=!rightCollapsed" ng-class="{\'glyphicon-chevron-left\': rightCollapsed,\'glyphicon-chevron-right\': !rightCollapsed}"></i> 表单属性设置</li></ul><div class="nav-body" fb-properties="" ng-show="!rightCollapsed"></div></div><div class="content-view"><form fb-builder="editForms" ng-if="navActive==\'editForm\'"></form><form fb-form="previewForms" ng-if="navActive==\'previewForm\'" ng-model="formData"></form></div><div class="modal fade confirm" role="dialog" id="saveModal"><div class="modal-dialog" style="width:575px"><div class="modal-content"><div class="modal-header"><a class="close" data-dismiss="modal">×</a> <i class="glyphicon glyphicon-question-sign modal-icon"></i><h5 class="modal-title">确认保存表单</h5></div><div class="modal-footer no-margin-top"><button class="btn btn-default" data-dismiss="modal">取消</button> <button class="btn btn-success" ng-click="saveForm()" data-dismiss="modal">确定</button></div></div></div></div></div>'),e.put("views/fb-watch.html",'<div class="preview" ng-controller="fbWatchController"><div class="content-view"><form fb-form="previewForms" ng-model="formData"></form></div></div>'),e.put("views/fb-work.html",'<div class="preview" ng-controller="fbWorkController"><div class="content-view"><form fb-form="previewForms" ng-model="formData"></form><button class="btn btn-lg btn-white">取消</button> <button class="btn btn-lg btn-success" ng-click="saveFormData()">提交</button></div></div>'),e.put("views/directive/fb-builder.html",'<div class="column ui-sortable" ui-sortable="sortableOptions" ng-model="forms.components"><div ng-repeat="component in forms.components"><div class="ui-draggable lyrow" ng-click="selectComponent(component,$event)" ng-mouseenter="hover = true" ng-mouseleave="hover = false" ng-class="{\'box\': component.type!=\'column\',\'hover\':hover&&component.type!=\'column\',\'focused\': builderForms.selectedComponent===component}"><span class="drag label label-default"><i class="glyphicon glyphicon-move icon-black"></i>拖动</span> <a ng-click="copyComponent(forms,component,$event)" class="copy label label-success"><i class="glyphicon glyphglyphicon glyphicon-plus icon-white"></i>复制</a> <a ng-click="removeComponent(forms,$index)" class="remove label label-danger"><i class="glyphicon glyphglyphicon glyphicon-remove icon-white"></i>删除</a><div fb-builder-object="component"></div><div ng-if="component.type!=\'column\'" class="handle"></div></div></div></div>'),e.put("views/directive/fb-components.html",'<ul class="nav-list accordion-group" ng-repeat="group in groups"><li class="nav-header" ng-click="group.expanded = !group.expanded"><i class="glyphicon icon-white" ng-class="{\'glyphicon-chevron-right\': !group.expanded, \'glyphicon-chevron-down\': group.expanded}"></i> {{group.title}}<div class="pull-right" fb-popover="{title:\'关于\'+group.title, content:group.description,placement:\'right\'}"><i class="glyphicon glyphicon-question-sign icon-black clickable"></i></div></li><li class="nav-content" ng-show="group.expanded" ui-sortable="draggableOptions" ng-model="group.components"><div ng-repeat="component in group.components" ng-class="{true :\'lyrow\', false :\'box\'}[component.type==\'column\']" ng-init="component.showButton=true"><span class="drag label label-default" ng-show="component.showButton"><i class="glyphicon glyphicon-move icon-black"></i>拖动</span><div fb-component="component"></div></div></li></ul>'),e.put("views/directive/fb-load.html",'<div class="folat" ng-show="progressNum>0"><div class="sk-spinner-wave"><div class="sk-rect1"></div><div class="sk-rect2"></div><div class="sk-rect3"></div><div class="sk-rect4"></div><div class="sk-rect5"></div></div></div>'),e.put("views/directive/fb-properties.html",'<ul class="nav-list accordion-group"><li class="nav-content rows"><div ng-repeat="propertyPackage in component.propertyPackages"><div class="form-group" ng-repeat="property in propertyPackage.properties"><label>{{property.title}}</label><div class="pull-right" fb-popover="{title:\'关于\'+property.title, content:property.description,placement:\'left\'}"><i class="glyphicon glyphicon-question-sign clickable"></i></div><div fb-property="property"></div></div></div></li></ul>'),e.put("views/property/property-alert.html",'<select class="form-control" ng-model="component.properties.alert"><option value="success">成功</option><option value="warning">警告</option><option value="info">提示</option><option value="danger">错误</option></select>'),e.put("views/property/property-alignment.html",'<select class="form-control" ng-model="component.properties.alignment"><option value="text-left">靠左</option><option value="text-center">居中</option><option value="text-right">靠右</option></select>'),e.put("views/property/property-allowed-file-extensions.html",'<select chosen="" multiple="" class="form-control" placeholder-text-multiple="\'选择允许的文件后缀名\'" no-results-text="\'没有结果匹配\'" ng-model="component.properties.fileOptions.allowedFileExtensions"><option value="all">所有</option><option value="jpg">jpg</option><option value="bmp">bmp</option><option value="gif">gif</option><option value="pic">pic</option><option value="png">png</option><option value="tif">tif</option><option value="txt">txt</option><option value="doc">doc</option><option value="html">html</option><option value="pdf">pdf</option><option value="rar">rar</option><option value="zip">zip</option><option value="avi">avi</option></select>'),e.put("views/property/property-allowed-file-types.html",'<select multiple="" chosen="" class="form-control" placeholder-text-multiple="\'选择允许的文件类型\'" no-results-text="\'没有结果匹配\'" ng-model="component.properties.fileOptions.allowedFileTypes"><option value="all">所有</option><option value="image">image</option><option value="bmp">bmp</option><option value="text">text</option><option value="video">video</option><option value="audio">audio</option><option value="flash">flash</option><option value="object">object</option><option value="html">html</option></select>'),e.put("views/property/property-columns.html",'<select class="form-control" ng-model="component.properties.columns"><option value="1">一列</option><option value="2">两列</option><option value="3">三列</option><option value="4">四列</option><option value="auto">自动排列</option></select>'),e.put("views/property/property-date-format.html",'<select class="form-control" ng-if="component.properties.dateOptions.minView==\'hour\'" ng-model="component.properties.dateOptions.format"><option value="yyyy-mm-dd hh:ii:ss">yyyy-mm-dd hh:ii:ss</option><option value="yyyy/mm/dd hh:ii:ss">yyyy/mm/dd hh:ii:ss</option><option value="dd/mm/yyyy hh:ii:ss">dd/mm/yyyy hh:ii:ss</option></select><select class="form-control" ng-if="component.properties.dateOptions.minView==\'month\'" ng-model="component.properties.dateOptions.format"><option value="yyyy-mm-dd">yyyy-mm-dd</option><option value="yyyy/mm/dd">yyyy/mm/dd</option><option value="dd/mm/yyyy">dd/mm/yyyy</option></select>'),e.put("views/property/property-date-min-view.html",'<label class="radio-inline"><input type="radio" ng-model="component.properties.dateOptions.minView" value="month">日期</label> <label class="radio-inline"><input type="radio" ng-model="component.properties.dateOptions.minView" value="hour">时间</label>'),e.put("views/property/property-default-boolean.html",'<label class="radio-inline"><input type="radio" fb-dynamic-model="property.name" fb-dynamic-model-pre="component.properties" ng-value="true">是</label> <label class="radio-inline"><input type="radio" fb-dynamic-model="property.name" fb-dynamic-model-pre="component.properties" ng-value="false">否</label>'),e.put("views/property/property-default-content.html",'<textarea fb-dynamic-model="property.name" fb-dynamic-model-pre="component.properties" class="form-control" rows="3">\r\n</textarea>'),e.put("views/property/property-default-string.html",'<input fb-dynamic-model="property.name" fb-dynamic-model-pre="component.properties" class="form-control" type="text">'),e.put("views/property/property-field.html",'<select class="form-control" ng-model="component.properties.field" ng-change="changeField()" ng-controller="fbFieldController"><option ng-repeat="option in builderForms.fields" value="{{option.key}}">{{option.name}}</option></select>'),e.put("views/property/property-html.html",'<div><div fb-html="summernoteConfig" ng-model="component.properties.html"></div></div>'),e.put("views/property/property-init-value.html",'<input ng-model="component.properties.initValue" ng-change="component.value=component.properties.initValue" class="form-control" type="text">'),e.put("views/property/property-level.html",'<select class="form-control" ng-model="component.properties.level"><option value="1">一级</option><option value="2">两级</option><option value="3">三级</option><option value="4">四级</option></select>'),e.put("views/property/property-options.html",'<form class="form-inline" role="form" ng-controller="fbOptionsController"><span class="label label-default clickable"><i class="glyphicon glyphglyphicon glyphicon-edit icon-white"></i>批量编辑</span> <span class="label label-default clickable" ng-click="changeShow()" ng-if="!showValue"><i class="glyphicon glyphglyphicon glyphicon-eye-open icon-white"></i>显示值</span> <span class="label label-default clickable" ng-click="changeShow()" ng-if="showValue"><i class="glyphicon glyphglyphicon glyphicon-eye-close icon-white"></i>隐藏值</span><h4 class="under-line"></h4><div class="form-group option-text" ng-if="showValue"><label>选项内容</label></div><div class="form-group option-value" ng-if="showValue"><label>选项值</label></div><div ui-sortable="sortableOptions" ng-model="component.properties.options"><div ng-repeat="item in component.properties.options"><div class="form-group"><div class="input-group" ng-class="{\'option-text-single\': !showValue, \'option-text\': showValue}"><span class="input-group-addon"><input type="radio" ng-if="component.id==\'radio\'" ng-model="component.value" name="optionsRadios" value="{{item.value}}"> <input type="checkbox" ng-if="component.id==\'checkbox\'" ng-model="component.arrayValue[$index]" name="optionsCheckboxs"> <input type="checkbox" ng-if="component.id==\'multiple-select\'" ng-click="selectDefault($event,item)" name="optionsCheckboxs"></span> <input type="text" class="form-control" ng-model="item.text" ng-focus="selectOption(item)" ng-change="changeOption(item)" placeholder="选项内容"></div></div><div class="form-group" ng-if="showValue"><input type="text" class="form-control option-value" ng-model="item.value" placeholder="选项值"></div><div class="form-group"><i class="glyphicon glyphicon-minus clickable" ng-click="removeOption($index)"></i> <i class="glyphicon glyphicon-plus clickable" ng-click="addOption($index)"></i> <i class="glyphicon glyphicon-move moveable"></i></div></div></div></form>'),
e.put("views/property/property-select-plugin.html",'<label class="radio-inline"><input type="radio" ng-model="component.properties.selectPlugin" value="">默认</label> <label class="radio-inline"><input type="radio" ng-model="component.properties.selectPlugin" value="chosen">chosen</label>'),e.put("views/property/property-sign.html",'<select class="form-control" ng-model="component.properties.sign"><option value="default">默认</option><option value="success">成功</option><option value="warning">警告</option><option value="primary">重要</option><option value="info">提示</option><option value="danger">错误</option></select>'),e.put("views/property/property-tree-options.html",'<form class="form-inline" role="form" ng-controller="fbOptionsController"><span class="label label-default clickable" ng-click="expandAll()"><i class="glyphicon glyphglyphicon glyphicon-eye-open icon-white"></i>展开</span> <span class="label label-default clickable" ng-click="collapseAll()"><i class="glyphicon glyphglyphicon glyphicon-eye-close icon-white"></i>收缩</span> <span class="label label-default clickable" ng-click="changeShow()" ng-if="!showValue"><i class="glyphicon glyphglyphicon glyphicon-retweet icon-white"></i>切换值</span> <span class="label label-default clickable" ng-click="changeShow()" ng-if="showValue"><i class="glyphicon glyphglyphicon glyphicon-retweet icon-white"></i>切换内容</span><h4 class="under-line"></h4><div class="form-group" ng-if="!showValue"><label>选项内容</label></div><div class="form-group" ng-if="showValue"><label>选项值</label></div><div ui-tree="" id="tree-root"><ol ui-tree-nodes="" ng-model="component.properties.treeOptions"><li ng-repeat="item in component.properties.treeOptions" ng-init="level=1" ui-tree-node="" ng-include="\'fb-tree-options.html\'"></li></ol></div></form><script type="text/ng-template" id="fb-tree-options.html"><div class="tree-node tree-node-content"> <div class="form-group"> <i style="width: 14px;" class="glyphicon clickable" ng-if="item.children && item.children.length == 0" ></i> <i class="glyphicon clickable" ng-class ="{\'glyphicon-chevron-right\': collapsed,\'glyphicon-chevron-down\': !collapsed}" ng-if="item.children && item.children.length > 0" data-nodrag ng-click="toggle(this)"></i> </div> <div class="form-group"> <div class="input-group tree-option"> <span class="input-group-addon" ng-if="component.arrayValue[level-1].value==$parent.$parent.item.value||level==1" ng-init="component.arrayValue[level]=component.arrayValue[level-1].children.indexOf(component.arrayValue[level])>=0?component.arrayValue[level]:component.arrayValue[level-1].children[0]"> <input type="radio" ng-model="component.arrayValue[level]" ng-value="item" /> </span> <input type="text" ng-if="!showValue" class="form-control" ng-model="item.text" ng-focus="selectOption(item)" ng-change="changeOption(item)" placeholder="选项内容"> <input type="text" ng-if="showValue" class="form-control" ng-model="item.value" placeholder="选项值"> </div> </div> <div class="form-group"> <i class="glyphicon glyphicon-minus clickable" ng-click="removeTreeOption(this)"></i> <i class="glyphicon glyphicon-plus clickable" ng-click="addTreeOption(this)"></i> <i class="glyphicon glyphicon-move moveable" ui-tree-handle></i> </div> </div> <ol ui-tree-nodes="" ng-model="item.children" ng-class="{hidden: collapsed}"> <li ng-repeat="item in item.children" ui-tree-node ng-include="\'fb-tree-options.html\'" ng-init="level=$parent.level+1"> </li> </ol></script>'),e.put("views/property/property-validation.html",'<label class="radio-inline"><input type="radio" ng-model="component.properties.validation" value="/.*/">无</label> <label class="radio-inline"><input type="radio" ng-model="component.properties.validation" value="[number]">数字</label> <label class="radio-inline"><input type="radio" ng-model="component.properties.validation" value="[url]">网址</label> <label class="radio-inline"><input type="radio" ng-model="component.properties.validation" value="[email]">邮件</label>'),e.put("views/property/property-visible.html",'<label class="radio-inline"><input type="radio" ng-model="component.properties.visible" value="">正常</label> <label class="radio-inline" ng-if="[\'text\',\'textarea\'].indexOf(component.id)>=0"><input type="radio" ng-model="component.properties.visible" value="readonly">只读</label> <label class="radio-inline"><input type="radio" ng-model="component.properties.visible" value="disabled">禁用</label> <label class="radio-inline"><input type="radio" ng-model="component.properties.visible" value="hidden">隐藏</label>'),e.put("views/property/property-width.html",'<input ng-model="component.properties.style.width" class="form-control" type="text">'),e.put("views/template/template-alert.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view"><div class="{{\'alert alert-\'+component.properties.alert}}" ng-style="component.properties.style"><button ng-if="component.properties.close" type="button" class="close" data-dismiss="alert">×</button><p ng-bind-html="component.properties.html | to_trusted"></p></div></div>'),e.put("views/template/template-checkbox.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label><div ng-style="component.properties.style"><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator=""><div class="row" ng-if="component.properties.columns!=\'auto\'"><div class="{{\'col-xs-\'+ 12/component.properties.columns}}" ng-repeat="num in [1,2,3,4,5,6]| limitTo: component.properties.columns"><div class="checkbox" ng-repeat="item in component.properties.options"><label ng-if="$index% (component.properties.columns)== $parent.$index"><input type="checkbox" ng-model="component.arrayValue[$index]" ng-disabled="component.properties.visible==\'disabled\'">{{item.text}}</label></div></div></div><div class="checkbox" ng-if="component.properties.columns==\'auto\'"><label class="checkbox-inline" ng-repeat="item in component.properties.options"><input type="checkbox" ng-model="component.arrayValue[$index]" ng-disabled="component.properties.visible==\'disabled\'"> {{item.text}}</label></div><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-column.html",'<div class="nav-view form-group"><input ng-model="component.value" ng-change="changeColNum()" class="form-control" type="text"></div><div class="view" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><div class="row row-view clearfix"><div class="{{\'col-xs-\'+ num}}" ng-repeat="num in component.arrayValue track by $index"><div fb-builder="component.forms[$index]" ng-if="!showForm"></div><div fb-form="component.forms[$index]" ng-model="data" ng-if="showForm"></div></div></div></div>'),e.put("views/template/template-datetime.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label><div><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator=""><div class="input-group" ng-style="component.properties.style"><input type="text" class="form-control" id="{{component.properties.overrideId}}" fb-datetime="component.properties.dateOptions" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'" placeholder="{{component.properties.placeholder}}"> <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span></div><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-file.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label><div ng-style="component.properties.style"><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator=""> <input type="file" class="form-control" id="{{component.properties.overrideId}}" multiple="" fb-file-input="component.properties.fileOptions" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'"><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-html.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label><div ng-style="component.properties.style"><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator=""><div id="{{component.properties.overrideId}}" fb-html="" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'"></div><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-label.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view"><span class="{{\'label label-\'+component.properties.sign}}">{{component.properties.content}}</span></div>'),e.put("views/template/template-multiple-select.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label><div ng-style="component.properties.style"><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator=""><select class="form-control" multiple="" id="{{component.properties.overrideId}}" ng-if="component.properties.selectPlugin==\'\'" ng-model="component.arrayValue" ng-disabled="component.properties.visible==\'disabled\'" ng-options="option.text for option in component.properties.options"></select><select class="form-control" multiple="" chosen="" id="{{component.properties.overrideId}}" ng-if="component.properties.selectPlugin==\'chosen\'" ng-model="component.arrayValue" ng-disabled="component.properties.visible==\'disabled\'" placeholder-text-multiple="\'选择一些选项\'" no-results-text="\'没有结果匹配\'" ng-options="option.text for option in component.properties.options"></select><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-radio.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label">{{component.properties.label}}</label><div ng-style="component.properties.style" ng-init="component.value=component.value==null?component.properties.options[0].value:component.value"><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator=""><div class="row" ng-if="component.properties.columns!=\'auto\'"><div class="{{\'col-xs-\'+ 12/component.properties.columns}}" ng-repeat="num in [1,2,3,4,5,6]| limitTo: component.properties.columns"><div class="radio" ng-repeat="item in component.properties.options"><label ng-if="$index% (component.properties.columns)== $parent.$index"><input type="radio" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'" value="{{item.value}}"> {{item.text}}</label></div></div></div><div class="radio" ng-if="component.properties.columns==\'auto\'"><label class="radio-inline" ng-repeat="item in component.properties.options"><input type="radio" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'" value="{{item.value}}"> {{item.text}}</label></div><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-select.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label">{{component.properties.label}}</label><div ng-style="component.properties.style"><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator=""><div class="row" ng-init="component.arrayValue[0]={};component.arrayValue[0].children = component.properties.treeOptions"><div ng-if="component.properties.selectPlugin==\'\'" class="{{\'col-xs-\'+ 12/component.properties.level}}" ng-repeat="num in [1,2,3,4,5,6]"><select class="form-control" ng-if="num<=component.properties.level" ng-disabled="component.properties.visible==\'disabled\'" ng-init="component.arrayValue[$index+1]=component.arrayValue[$index+1]==null?component.arrayValue[$index].children[0]:component.arrayValue[$index+1]" ng-change="component.arrayValue[$index+2]=component.arrayValue[$index+1].children[0]" ng-options="option.text for option in component.arrayValue[$index].children" ng-model="component.arrayValue[$index+1]"></select></div><div ng-if="component.properties.selectPlugin==\'chosen\'" class="{{\'col-xs-\'+ 12/component.properties.level}}" ng-repeat="num in [1,2,3,4,5,6]"><select chosen="" class="form-control" ng-if="num<=component.properties.level" ng-disabled="component.properties.visible==\'disabled\'" placeholder-text-single="\'选择一个选项\'" no-results-text="\'没有结果匹配\'" ng-init="component.arrayValue[$index+1]=component.arrayValue[$index+1]==null?component.arrayValue[$index].children[0]:component.arrayValue[$index+1]" ng-change="component.arrayValue[$index+2]=component.arrayValue[$index+1].children[0]" ng-options="option.text for option in component.arrayValue[$index].children" ng-model="component.arrayValue[$index+1]"></select></div></div><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-text.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label><div class=""><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator="{{component.properties.validation}}"> <input type="text" class="form-control" id="{{component.properties.overrideId}}" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'" ng-readonly="component.properties.visible==\'readonly\'" placeholder="{{component.properties.placeholder}}" ng-style="component.properties.style"><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-textarea.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view form-group" ng-class="{\'fb-hidden\': component.properties.visible==\'hidden\'}"><label for="{{component.properties.overrideId}}" class="control-label" ng-class="{\'required\':component.properties.required}">{{component.properties.label}}</label><div><input type="hidden" fb-dynamic-model="component.properties.overrideId" fb-dynamic-model-pre="data" validator-required="{{component.properties.required}}" validator=""> <textarea class="form-control" id="{{component.properties.overrideId}}" ng-model="component.value" ng-disabled="component.properties.visible==\'disabled\'" ng-readonly="component.properties.visible==\'readonly\'" placeholder="{{component.properties.placeholder}}" ng-style="component.properties.style" rows="{{component.properties.rows}}">\r\n\t\t</textarea><p class="help-block">{{component.properties.description}}</p></div></div>'),e.put("views/template/template-title.html",'<div class="nav-view form-group">{{component.title}}</div><div class="view"><div ng-class="{\'page-header\': component.properties.page}"><p ng-bind-html="component.properties.html | to_trusted"></p></div></div>')}]);